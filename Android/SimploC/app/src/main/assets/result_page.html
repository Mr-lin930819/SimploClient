<!DOCTYPE HTML>
<html>
<head>
	<title>Bar Chart</title>
    <script src="Chart.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body style=" height: 100%;width: 100%;margin: 0;padding: 0;display: block;">
	<canvas id="canvas" style="height: 100%;width: 100%;margin: 0;padding: 0;display: block;" height="400"></canvas>

<script>
    var gradeList = init();

    function init(){
         var result = eval('('+jsObject.getJsonTest().toLocaleString()+')');
         return result.Main;
     }


    function func1(list){
        ret = new Array();
        for(var key in list){
            ret.push(key);
        }
        return ret;
    }

   function func2(list){
        ret = new Array();
        for(var key in list){
            ret.push(parseFloat(list[key]));
        }
        return ret;
    }

    var labels = func1(gradeList);
    var datas = func2(gradeList);

     var barChartData = {
        labels : labels,
        datasets : [
            {
                fillColor : "rgba(151,187,205,0.5)",
                strokeColor : "rgba(151,187,205,0.8)",
                highlightFill : "rgba(151,187,205,0.75)",
                highlightStroke : "rgba(151,187,205,1)",
                data : datas
            }
        ]

    }

	window.onload = function(){
		var ctx = document.getElementById("canvas").getContext("2d");
		window.myBar = new Chart(ctx).Bar(barChartData, {
			responsive : true
		});
	}

	</script>
</body>
</html>